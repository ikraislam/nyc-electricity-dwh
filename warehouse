-- DIMENSION: TIME
CREATE TABLE dim_time (
    time_id SERIAL PRIMARY KEY,
    date_month DATE,
    month INT,
    year INT,
    quarter INT
);

-- DIMENSION: DEVELOPMENT
CREATE TABLE dim_development (
    development_id SERIAL PRIMARY KEY,
    development_name TEXT,
    borough TEXT
);

-- DIMENSION: METER / LOCATION (Building equivalent)
CREATE TABLE dim_meter (
    meter_id SERIAL PRIMARY KEY,
    meter_number TEXT,
    account_name TEXT,
    location TEXT,
    meter_scope TEXT
);

-- FACT TABLE: ELECTRIC CONSUMPTION
CREATE TABLE fact_electric_consumption (
    fact_id SERIAL PRIMARY KEY,
    time_id INT REFERENCES dim_time(time_id),
    development_id INT REFERENCES dim_development(development_id),
    meter_id INT REFERENCES dim_meter(meter_id),
    consumption_kwh FLOAT,
    cost_usd FLOAT,
    cost_per_kwh FLOAT
);

